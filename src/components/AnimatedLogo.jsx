import React, { useRef, useEffect } from 'react';
import { gsap } from 'gsap';

const AnimatedLogo = () => {
    const logoRef = useRef(null);

    useEffect(() => {
        const paths = logoRef.current?.querySelectorAll('path');
        if (!paths) return;

        paths.forEach((path) => {
            const length = path.getTotalLength();
            gsap.set(path, {
                strokeDasharray: length,
                strokeDashoffset: length,
            });
            gsap.to(path, {
                strokeDashoffset: 0,
                duration: 2.5,
                ease: 'power2.inOut',
                delay: 0.2,
            });
        });
    }, []);

    return (
        <svg
            ref={logoRef}
            width="158.057"
            height="87.892"
            viewBox="0 0 158.057 87.892"
            xmlns="http://www.w3.org/2000/svg"
        >
            <g
                strokeLinecap="round"
                fill="none"
                stroke="#ffffff"
                strokeWidth="1.5"
            >
                <path
                    vectorEffect="non-scaling-stroke"
                    d="M 33.887 8.253 L 3.809 84.376 L 0 84.376 L 31.982 3.516 L 35.791 3.516 L 67.725 84.376 L 63.965 84.376 L 33.887 8.253 Z M 123.34 38.672 L 128.906 38.672 A 26.054 26.054 0 0 1 135.44 39.446 A 18.084 18.084 0 0 1 144.409 44.727 A 20.899 20.899 0 0 1 149.933 57.836 A 27.414 27.414 0 0 1 150 59.766 Q 150 68.897 143.506 74.879 A 21.33 21.33 0 0 1 134.84 79.632 Q 131.662 80.553 127.881 80.783 A 42.586 42.586 0 0 1 125.293 80.86 A 50.314 50.314 0 0 1 115.035 79.844 A 44.131 44.131 0 0 1 110.693 78.712 A 36.401 36.401 0 0 1 104.657 76.218 A 27.614 27.614 0 0 1 99.414 72.657 L 102.148 70.46 Q 106.152 73.731 112.231 75.538 Q 118.311 77.344 125.293 77.344 A 34.57 34.57 0 0 0 131.258 76.863 Q 137.297 75.803 141.04 72.413 A 16.156 16.156 0 0 0 146.468 60.602 A 21.238 21.238 0 0 0 146.484 59.766 A 20.841 20.841 0 0 0 145.641 53.707 A 16.721 16.721 0 0 0 141.919 47.169 A 14.767 14.767 0 0 0 134.456 42.831 Q 131.911 42.188 128.857 42.188 L 123.34 42.188 A 20.673 20.673 0 0 1 119.232 41.807 Q 115.097 40.967 112.646 38.282 A 13.401 13.401 0 0 1 109.364 31.456 A 18.857 18.857 0 0 1 109.082 28.126 Q 109.082 21.876 113.501 17.969 A 13.859 13.859 0 0 1 118.213 15.299 Q 121.786 14.063 126.758 14.063 Q 132.959 14.063 138.281 15.504 Q 143.323 16.868 146.7 19.35 A 18.375 18.375 0 0 1 147.07 19.629 L 144.287 21.778 Q 138.184 17.579 126.758 17.579 A 29.677 29.677 0 0 0 122.925 17.809 Q 118.715 18.359 116.308 20.226 A 8.477 8.477 0 0 0 115.991 20.484 A 9.443 9.443 0 0 0 112.618 27.397 A 12.648 12.648 0 0 0 112.598 28.126 Q 112.598 32.516 114.714 35.303 A 9.247 9.247 0 0 0 115.112 35.792 A 7.564 7.564 0 0 0 118.235 37.883 Q 119.491 38.352 121.055 38.542 A 18.94 18.94 0 0 0 123.34 38.672 Z M 123.34 45.704 ... Z"
                />
            </g>
        </svg>
    );
};

export default AnimatedLogo;
